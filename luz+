<!DOCTYPE html> <html lang="es"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"> <title>LUZ+</title> <link rel="preconnect" href="https://fonts.googleapis.com"> <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet"> <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" /> <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script> <style> html, body { margin: 0; padding: 0; width: 100%; height: 100%; font-family: 'DM Sans', sans-serif; background: #b8aeae; display: flex; justify-content: center; align-items: flex-start; overflow-x: hidden; } :root { --red: #E53935; --red-dark: #C62828; --bg: #F5F2F2; --white: #FFFFFF; --text: #1A1A1A; --muted: #888; --border: #E0DCDC; --blue: #1565C0; } .phone { width: 375px; background: var(--bg); border-radius: 40px; overflow: hidden; box-shadow: 0 40px 120px rgba(0,0,0,0.45), 0 0 0 1px rgba(0,0,0,0.08); display: flex; flex-direction: column; margin: 24px 0; } /* STATUS */ .statusbar { background: var(--white); padding: 14px 24px 8px; display: flex; justify-content: space-between; align-items: center; flex-shrink: 0; } .time { font-size: 15px; font-weight: 700; } /* HEADER */ .header { background: var(--white); padding: 6px 16px 12px; display: flex; align-items: center; gap: 10px; border-bottom: 1px solid var(--border); flex-shrink: 0; } .logo { font-family: 'Syne', sans-serif; font-weight: 800; font-size: 20px; } .searchbar { flex: 1; background: var(--bg); border: 1px solid var(--border); border-radius: 24px; padding: 8px 14px; display: flex; align-items: center; gap: 7px; font-size: 12px; color: var(--muted); } /* SCREENS */ .screen { display: none; flex-direction: column; } .screen.active { display: flex; } /* MAP */ .map-wrap { position: relative; height: 310px; flex-shrink: 0; } #map { width: 100%; height: 100%; } .fab { position: absolute; bottom: 14px; right: 14px; z-index: 999; background: var(--red); color: white; border: none; border-radius: 28px; padding: 11px 20px; font-family: 'Syne', sans-serif; font-weight: 700; font-size: 14px; cursor: pointer; box-shadow: 0 4px 18px rgba(229,57,53,0.5); display: flex; align-items: center; gap: 7px; } .fab:active { background: var(--red-dark); } .pill { position: absolute; top: 10px; left: 50%; transform: translateX(-50%); background: white; border-radius: 20px; padding: 5px 14px; font-size: 11px; color: var(--text); box-shadow: 0 2px 10px rgba(0,0,0,0.18); z-index: 999; white-space: nowrap; display: none; } .pill.show { display: block; } .hint { position: absolute; top: 10px; left: 50%; transform: translateX(-50%); background: rgba(0,0,0,0.6); color: white; border-radius: 20px; padding: 5px 14px; font-size: 11px; z-index: 999; white-space: nowrap; pointer-events: none; transition: opacity 0.6s; } .hint.gone { opacity: 0; } /* FORM */ .form-box { background: var(--white); padding: 16px; } .flabel { font-family: 'Syne', sans-serif; font-size: 13px; font-weight: 600; margin-bottom: 8px; } .dates { display: flex; gap: 8px; margin-bottom: 14px; } .di { border: 1.5px solid var(--border); border-radius: 8px; padding: 10px; font-size: 13px; color: var(--muted); text-align: center; font-family: 'DM Sans', sans-serif; background: var(--white); } .di:focus { outline: none; border-color: var(--red); color: var(--text); } .di.w2 { width: 60px; } .di.w4 { width: 80px; } textarea { width: 100%; border: 1.5px solid var(--border); border-radius: 10px; padding: 10px 12px; font-size: 13px; font-family: 'DM Sans', sans-serif; resize: none; height: 80px; margin-bottom: 14px; background: var(--white); box-sizing: border-box; } textarea:focus { outline: none; border-color: var(--red); } textarea::placeholder { color: var(--muted); } .rbtn { width: 100%; background: var(--red); color: white; border: none; border-radius: 30px; padding: 14px; font-family: 'Syne', sans-serif; font-size: 15px; font-weight: 700; cursor: pointer; box-shadow: 0 4px 16px rgba(229,57,53,0.35); letter-spacing: 0.4px; } .rbtn:active { background: var(--red-dark); } /* THANK YOU */ .ty { display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 48px 24px; text-align: center; background: var(--bg); min-height: 540px; } .ty-circle { width: 80px; height: 80px; background: var(--red); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-bottom: 24px; box-shadow: 0 8px 30px rgba(229,57,53,0.35); animation: pop 0.4s cubic-bezier(0.175,0.885,0.32,1.275); } @keyframes pop { from{transform:scale(0);opacity:0} to{transform:scale(1);opacity:1} } .ty-title { font-family: 'Syne', sans-serif; font-size: 28px; font-weight: 800; line-height: 1.2; margin-bottom: 12px; } .ty-sub { font-size: 15px; color: var(--muted); line-height: 1.6; margin-bottom: 32px; } .ty-row { display: flex; gap: 10px; width: 100%; margin-bottom: 16px; } .ty-input { flex: 1; border: 1.5px solid var(--border); border-radius: 10px; padding: 10px 14px; font-size: 13px; font-family: 'DM Sans', sans-serif; background: var(--white); } .ty-input:focus { outline: none; border-color: var(--red); } .ty-sbtn { background: var(--text); color: white; border: none; border-radius: 10px; padding: 10px 16px; font-family: 'Syne', sans-serif; font-weight: 700; font-size: 13px; cursor: pointer; } .ty-back { font-size: 13px; color: var(--red); cursor: pointer; text-decoration: underline; } /* NAV */ .nav { background: var(--white); border-top: 1px solid var(--border); display: flex; padding: 8px 0 22px; flex-shrink: 0; } .ni { flex: 1; display: flex; flex-direction: column; align-items: center; gap: 3px; padding: 6px; cursor: pointer; border: none; background: none; color: var(--muted); font-size: 10px; font-family: 'DM Sans', sans-serif; position: relative; } .ni svg { width: 22px; height: 22px; } .ni.on { color: var(--blue); } .nbar { position: absolute; bottom: -8px; left: 50%; transform: translateX(-50%); width: 30px; height: 3px; background: var(--blue); border-radius: 3px; } </style> </head> <body> <div class="phone"> <div class="statusbar"> <span class="time">9:41</span> <div style="display:flex;gap:6px;align-items:center"> <svg width="16" height="12" viewBox="0 0 24 12"><rect x="0" y="1" width="20" height="10" rx="2" stroke="#333" stroke-width="1.5" fill="none"/><rect x="1.5" y="2.5" width="13" height="7" rx="1" fill="#333"/><path d="M21 4v4a2 2 0 000-4z" fill="#333"/></svg> </div> </div> <div class="header"> <span class="logo">LUZ +</span> <div class="searchbar"> <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg> Buscar alumbrado en Xochitepec </div> <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#333" stroke-width="2" style="cursor:pointer;flex-shrink:0"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg> </div> <!-- MAP SCREEN --> <div class="screen active" id="s-map"> <div class="map-wrap"> <div class="hint" id="hint">Toca el mapa para marcar la ubicaci√≥n</div> <div class="pill" id="pill"></div> <div id="map"></div> <button class="fab" onclick="doReport()"> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 22s-8-4.5-8-11.8A8 8 0 0112 2a8 8 0 018 8.2c0 7.3-8 11.8-8 11.8z"/><circle cx="12" cy="10" r="3"/></svg> Reportar </button> </div> <div class="form-box"> <div class="flabel">Fecha del reporte</div> <div class="dates"> <input class="di w2" id="dd" type="text" placeholder="DD" maxlength="2"> <input class="di w2" id="mm" type="text" placeholder="MM" maxlength="2"> <input class="di w4" id="yy" type="text" placeholder="AAAA" maxlength="4"> </div> <div class="flabel">Descripci√≥n</div> <textarea id="desc" placeholder="Describe el problema del alumbrado p√∫blico..."></textarea> <button class="rbtn" onclick="doReport()">Reportar</button> </div> </div> <!-- THANK YOU SCREEN --> <div class="screen" id="s-ty"> <div class="ty"> <div class="ty-circle"> <svg width="38" height="38" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg> </div> <div class="ty-title">¬°Gracias por<br>tu reporte!</div> <div class="ty-sub">Seguiremos trabajando<br>por tu seguridad</div> <div class="ty-row"> <input class="ty-input" id="cmt" placeholder="Agrega un comentario"> <button class="ty-sbtn" onclick="sendCmt()">Enviar</button> </div> <span class="ty-back" onclick="goBack()">‚Üê Hacer otro reporte</span> </div> </div> <div class="nav"> <button class="ni"> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg> Inicio </button> <button class="ni on"> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg> Reportes <div class="nbar"></div> </button> <button class="ni"> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"/></svg> Favoritos </button> <button class="ni"> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/><circle cx="12" cy="7" r="4"/></svg> Perfil </button> </div> </div> <script> // Fill today const n = new Date(); document.getElementById('dd').value = String(n.getDate()).padStart(2,'0'); document.getElementById('mm').value = String(n.getMonth()+1).padStart(2,'0'); document.getElementById('yy').value = n.getFullYear(); // Xochitepec, Morelos, M√©xico const C = [18.7939, -99.2331]; let sel = null, marker = null; const map = L.map('map').setView(C, 15); L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{ maxZoom:19, attribution:'¬© OpenStreetMap contributors' }).addTo(map); const dotI = L.divIcon({ html:'<div style="width:12px;height:12px;background:#E53935;border:2.5px solid white;border-radius:50%;box-shadow:0 1px 5px rgba(0,0,0,0.35)"></div>', iconSize:[12,12],iconAnchor:[6,6],className:'' }); const pinI = L.divIcon({ html:'<div style="width:22px;height:22px;background:#E53935;border:3px solid white;border-radius:50% 50% 50% 0;transform:rotate(-45deg);box-shadow:0 3px 10px rgba(229,57,53,0.55)"></div>', iconSize:[22,22],iconAnchor:[11,22],className:'' }); // Existing sample reports [[18.7960,-99.2350,"Luminaria apagada"],[18.7920,-99.2310,"Poste da√±ado"], [18.7945,-99.2295,"Cableado expuesto"],[18.7975,-99.2325,"Sin luz 3 d√≠as"], [18.7905,-99.2355,"Parpadeo constante"],[18.7950,-99.2270,"Luminaria rota"] ].forEach(([a,b,d])=>L.marker([a,b],{icon:dotI}).bindPopup(`<b>‚ö° ${d}</b>`).addTo(map)); map.on('click', e=>{ sel = e.latlng; if(marker) map.removeLayer(marker); marker = L.marker([e.latlng.lat,e.latlng.lng],{icon:pinI}).addTo(map); const p=document.getElementById('pill'); p.textContent=`üìç ${e.latlng.lat.toFixed(4)}, ${e.latlng.lng.toFixed(4)}`; p.classList.add('show'); document.getElementById('hint').classList.add('gone'); }); setTimeout(()=>document.getElementById('hint').classList.add('gone'), 4000); function doReport(){ if(!sel){ alert('Toca el mapa para indicar la ubicaci√≥n del problema.'); return; } document.getElementById('s-map').classList.remove('active'); document.getElementById('s-ty').classList.add('active'); sel=null; document.getElementById('desc').value=''; document.getElementById('pill').classList.remove('show'); if(marker){map.removeLayer(marker);marker=null;} } function sendCmt(){ const i=document.getElementById('cmt'); if(i.value.trim()){i.value='';i.placeholder='‚úì Comentario enviado';} } function goBack(){ document.getElementById('s-ty').classList.remove('active'); document.getElementById('s-map').classList.add('active'); document.getElementById('hint').classList.remove('gone'); setTimeout(()=>map.invalidateSize(),150); } // Critical: invalidate map size after render setTimeout(()=>map.invalidateSize(),300); window.addEventListener('load',()=>setTimeout(()=>map.invalidateSize(),200)); </script> </body> </html>
